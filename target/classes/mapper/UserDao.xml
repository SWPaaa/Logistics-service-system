<?xml version="1.0" encoding="utf-8" ?>
<!DOCTYPE mapper PUBLIC "-//mybatis.org//DTD Mapper 3.0//EN" "http://mybatis.org/dtd/mybatis-3-mapper.dtd" >
<mapper namespace="com.swp.dao.UserDao">


    <select id="login" resultType="com.swp.model.dto.UserDTO">
        SELECT
            *
        FROM
            t_user
        WHERE
            username = #{username}
            AND password = #{password}
            AND is_delete = 0
        LIMIT 1
    </select>
    <!--注册-->
    <insert id="save">
        INSERT INTO
            t_user(
                username,password,type,name,real_name,phone,remark,company_name,
                company_address,company_phone,company_url,sex,area_code)
        VALUES (
                #{username},#{password},#{type},
                #{name},#{realName},#{phone},#{remark},#{companyName},#{companyAddress},#{companyPhone},
                #{companyUrl},#{sex},#{areaCode}
                )
    </insert>
    <!--根据用户名获取数据-->
    <select id="getByUsername" resultType="com.swp.entity.UserEntity">
        SELECT * FROM t_user
        WHERE username = #{username}
        AND is_delete = 0
        LIMIT 1
    </select>
</mapper>